<div class="field">
  <div class="two columns alpha">
    <label for="css"><?php echo $this->translate('CSS'); ?></label>
  </div>
  <div class="inputs five columns omega">
    <p class="explanation">
      <?php echo $this->translate('Add custom CSS for sites.'); ?><br/>
      <?php echo $this->translate("Note: CSS rules defined for 'Default' will only be used if no CSS is defined for a specific site in this module."); ?><br/>
      <?php echo $this->translate('Warning: the following tags cannot be used in selectors:'); ?>
      <b>body, head, html</b>.<br/>
      <?php echo sprintf($this->translate('For instance, if you define a rule like %s, it will be removed when submitting your changes.'), '<code>body {color: red;}</code>'); ?>
    </p>
    <div id="csseditor_site">
      <?php
        echo $this->siteSelect()
          ->setEmptyOption($this->translate('Default'))
          ->render('site');
      ?>
    </div>
    <div>
      <?php echo $this->formTextarea($textarea); ?>
    </div>
  </div>
</div>


<script>
  $("#csseditor_site select").change(function() {
    var url = '<?php echo $this->url('admin/csseditor'); ?>';
    var site_id = $(this).val();
    if (site_id) {
        url += '/' + site_id;
    }
    $.ajax({
      'url' : url,
      'type': 'get',
      'success': function(data) {
        $('#csseditor_cssvalue').html(data);
      }
    });
  });
</script>
